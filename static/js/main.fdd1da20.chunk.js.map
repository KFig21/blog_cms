{"version":3,"sources":["context/AuthReducer.js","context/AuthContext.js","components/nav/Logo.js","components/nav/Nav.js","pages/login/Login.js","components/loader/Loader.js","components/comment/Comment.js","components/comment/deleteModal/DeleteModal.js","components/post/deleteModal/DeleteModal.js","pages/editPost/EditPost.js","pages/newPost/NewPost.js","components/post/Post.js","pages/home/Home.js","App.js","index.js"],"names":["AuthReducer","state","action","type","user","isFetching","error","payload","localStorage","clear","INITIAL_STATE","JSON","parse","getItem","AuthContext","createContext","AuthContextProvider","children","useReducer","dispatch","useEffect","setItem","stringify","Provider","value","Logo","className","version","xmlns","width","height","viewBox","preserveAspectRatio","transform","fill","stroke","d","Nav","userAuth","setUserAuth","useContext","to","onClick","Login","useForm","register","handleSubmit","errors","useState","loginErr","setLoginErr","onSubmit","data","a","console","log","formData","fetch","method","body","headers","Accept","req","json","myJson","status","token","justVisiting","username","process","password","autoComplete","placeholder","required","message","Loader","class","color","Comment","comment","handleDeleteComment","text","submitted","_id","DeleteModal","handleCancelComment","deleteComment","isAdmin","post","handleCancelPost","deletePost","title","author","EditPost","setPost","comments","setComments","successMsg","setSuccessMsg","showDeletePostModal","setShowDeletePostModal","showDeleteCommentModal","setShowDeleteCommentModal","commentToDelete","setCommentToDelete","navigate","useNavigate","id","useParams","getPosts","postReq","postJson","getComments","commentsReq","commentsJson","submitForm","bearer","Authorization","deleteAllComments","commentId","newComments","filter","htmlFor","defaultValue","description","target","rel","href","length","map","NewPost","Post","commentCount","style","Home","posts","setPosts","reqJson","App","exact","path","element","ReactDOM","render","basename","document","getElementById"],"mappings":"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","file":"static/js/main.fdd1da20.chunk.js","sourcesContent":["const AuthReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"LOGIN_START\":\r\n      return {\r\n        user: null,\r\n        isFetching: true,\r\n        error: false,\r\n      };\r\n    case \"LOGIN_SUCCESS\":\r\n      return {\r\n        user: action.payload,\r\n        isFetching: false,\r\n        error: false,\r\n      };\r\n    case \"LOGIN_FAILURE\":\r\n      return {\r\n        user: null,\r\n        isFetching: false,\r\n        error: true,\r\n      };\r\n    case \"LOGOUT\":\r\n      localStorage.clear();\r\n      return {\r\n        user: null,\r\n        isFetching: false,\r\n        error: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default AuthReducer;\r\n","import { createContext, useEffect, useReducer } from \"react\";\r\nimport AuthReducer from \"./AuthReducer\";\r\n\r\nconst INITIAL_STATE = {\r\n  user: JSON.parse(localStorage.getItem(\"user\")) || null,\r\n  isFetching: false,\r\n  error: false,\r\n};\r\n\r\nexport const AuthContext = createContext(INITIAL_STATE);\r\n\r\nexport const AuthContextProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"user\", JSON.stringify(state.user));\r\n  }, [state.user]);\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        user: state.user,\r\n        isFetching: state.isFetching,\r\n        error: state.error,\r\n        dispatch,\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport default function Logo() {\r\n  return (\r\n    <svg\r\n      className=\"navbar-svg\"\r\n      version=\"1.0\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"655.000000pt\"\r\n      height=\"657.000000pt\"\r\n      viewBox=\"0 0 655.000000 657.000000\"\r\n      preserveAspectRatio=\"xMidYMid meet\"\r\n    >\r\n      <g\r\n        transform=\"translate(0.000000,657.000000) scale(0.100000,-0.100000)\"\r\n        fill=\"#000000\"\r\n        stroke=\"none\"\r\n        className=\"navbar-svg-g\"\r\n      >\r\n        <path\r\n          d=\"M1 4978 c1 -995 5 -1546 10 -1468 22 311 102 661 224 970 46 118 204\r\n440 216 440 5 0 9 4 9 9 0 16 120 213 144 236 6 6 29 37 51 70 22 33 47 66 55\r\n75 8 8 44 50 79 93 35 43 72 84 82 90 11 7 19 16 19 22 0 14 133 145 147 145\r\n6 0 13 6 16 14 5 12 128 119 224 194 l43 34 0 -2606 c0 -1433 -4 -2606 -8\r\n-2606 -5 0 -31 19 -59 43 -28 23 -85 70 -127 105 -42 34 -76 67 -76 72 0 6 -6\r\n10 -13 10 -14 0 -147 130 -147 144 0 5 -18 25 -40 44 -23 19 -39 37 -36 40 3\r\n2 -6 13 -19 24 -14 11 -23 24 -20 29 4 5 2 9 -3 9 -12 0 -112 121 -111 134 0\r\n5 -5 12 -11 16 -6 4 -19 18 -28 32 -9 14 -40 59 -68 100 -28 41 -62 95 -75\r\n119 -13 24 -27 46 -31 49 -15 11 -169 332 -211 440 -123 313 -205 668 -226\r\n975 -5 81 -9 -468 -10 -1472 l-1 -1603 3275 0 3275 0 0 3285 0 3285 -3275 0\r\n-3275 0 1 -1592z m3474 1562 c150 -11 292 -32 455 -67 138 -29 360 -93 360\r\n-103 0 -4 -488 -495 -1085 -1092 l-1085 -1085 0 1073 0 1072 108 36 c437 143\r\n834 196 1247 166z m1623 -567 c92 -58 360 -276 369 -299 3 -8 10 -14 16 -14\r\n14 0 147 -131 147 -145 0 -6 8 -15 19 -22 10 -6 47 -47 82 -90 35 -43 71 -85\r\n79 -93 8 -9 33 -42 55 -75 22 -32 48 -67 58 -77 9 -10 17 -24 17 -31 0 -12\r\n-2639 -2658 -2657 -2664 -4 -2 -204 193 -443 432 l-435 435 1330 1330 c731\r\n732 1331 1330 1333 1330 1 0 15 -8 30 -17z m1250 -1660 c6 -21 24 -85 41 -143\r\n38 -129 55 -204 86 -385 92 -546 26 -1130 -192 -1685 -42 -108 -196 -429 -211\r\n-440 -4 -3 -18 -25 -31 -49 -13 -24 -47 -78 -75 -119 -28 -41 -59 -86 -68\r\n-100 -9 -14 -22 -28 -28 -32 -6 -4 -10 -10 -8 -13 5 -8 -102 -137 -114 -137\r\n-5 0 -7 -4 -3 -9 3 -5 -6 -18 -20 -29 -13 -11 -22 -22 -19 -24 3 -3 -13 -21\r\n-36 -40 -22 -19 -40 -39 -40 -44 0 -12 -132 -144 -145 -144 -6 0 -15 -8 -22\r\n-18 -14 -23 -178 -158 -278 -228 l-72 -52 -629 629 -629 629 1235 1235 c679\r\n679 1238 1235 1241 1235 4 0 11 -17 17 -37z m-2003 -4085 c-23 -13 -263 -85\r\n-360 -108 -245 -58 -469 -84 -725 -84 -379 0 -658 50 -1107 197 l-33 10 0\r\n1116 0 1116 1120 -1120 c820 -820 1116 -1122 1105 -1127z\"\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport \"./Nav.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Logo from \"./Logo\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nexport default function Nav({ userAuth, setUserAuth }) {\r\n  const { user, dispatch } = useContext(AuthContext);\r\n\r\n  const logout = () => {\r\n    setUserAuth(false);\r\n    dispatch({ type: \"LOGOUT\", payload: null });\r\n    localStorage.clear();\r\n  };\r\n\r\n  return (\r\n    <div className=\"navbar\">\r\n      <div className=\"navbar-container\">\r\n        <div className=\"nav-header-container\">\r\n          <Logo />\r\n          <span className=\"nav-title\">KFig21 Blog CMS</span>\r\n        </div>\r\n        {user && (\r\n          <div className=\"nav-link-container\">\r\n            <Link to=\"./posts\">\r\n              <button>Home</button>\r\n            </Link>\r\n            <Link to=\"./newpost\">\r\n              <button>New Post</button>\r\n            </Link>\r\n\r\n            <button className=\"logout-button\" onClick={logout}>\r\n              Logout\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { React, useState, useContext } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport \"./Login.scss\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nexport default function Login({ setUserAuth }) {\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const [loginErr, setLoginErr] = useState(false);\r\n  const { dispatch } = useContext(AuthContext);\r\n\r\n  const onSubmit = async (data) => {\r\n    console.log(data);\r\n    const formData = JSON.stringify(data);\r\n\r\n    try {\r\n      const req = await fetch(\r\n        \"https://still-atoll-78147.herokuapp.com/api/login\",\r\n        // \"http://localhost:3000/api/login\",\r\n        {\r\n          method: \"POST\",\r\n          body: formData,\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n      const myJson = await req.json();\r\n      if (req.status !== 200) {\r\n        setLoginErr(true);\r\n        return;\r\n      }\r\n      localStorage.setItem(\"token\", myJson.token);\r\n      localStorage.setItem(\"userAuth\", true);\r\n      dispatch({ type: \"LOGIN_SUCCESS\", payload: myJson });\r\n      setUserAuth(true);\r\n    } catch (err) {\r\n      setLoginErr(true);\r\n    }\r\n  };\r\n\r\n  const justVisiting = async () => {\r\n    const formData = JSON.stringify({\r\n      username: process.env.REACT_APP_TEST_ACCOUNT_USERNAME,\r\n      password: process.env.REACT_APP_TEST_ACCOUNT_PASSWORD,\r\n    });\r\n    try {\r\n      const req = await fetch(\r\n        \"https://still-atoll-78147.herokuapp.com/api/login\",\r\n        // \"http://localhost:3000/api/login\",\r\n        {\r\n          method: \"POST\",\r\n          body: formData,\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n      const myJson = await req.json();\r\n      if (req.status !== 200) {\r\n        setLoginErr(true);\r\n        return;\r\n      }\r\n      localStorage.setItem(\"token\", myJson.token);\r\n      localStorage.setItem(\"userAuth\", true);\r\n      dispatch({ type: \"LOGIN_SUCCESS\", payload: myJson });\r\n      setUserAuth(true);\r\n    } catch (err) {\r\n      setLoginErr(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"login-container\">\r\n        <form className=\"login-form\">\r\n          <h1>Admin Login</h1>\r\n          <div>\r\n            <input\r\n              className=\"form-input\"\r\n              autoComplete=\"username\"\r\n              type=\"text\"\r\n              placeholder=\"Username\"\r\n              {...register(\"username\", { required: true })}\r\n            ></input>\r\n            {errors && (\r\n              <span className=\"error-span\">{errors.username.message}</span>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <input\r\n              className=\"form-input\"\r\n              autoComplete=\"current-password\"\r\n              placeholder=\"Password\"\r\n              type=\"password\"\r\n              {...register(\"password\", { required: true })}\r\n            ></input>\r\n            {errors && (\r\n              <span className=\"error-span\">{errors.password.message} </span>\r\n            )}\r\n          </div>\r\n\r\n          {loginErr && (\r\n            <span className=\"error-span\">Username or password incorrect</span>\r\n          )}\r\n          <button\r\n            type=\"submit\"\r\n            onClick={((e) => e.preventDefault(), handleSubmit(onSubmit))}\r\n          >\r\n            Login\r\n          </button>\r\n        </form>\r\n      </div>\r\n      <div className=\"just-visiting\">\r\n        Wanna look around? <button onClick={justVisiting}>Just visiting</button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactLoading from \"react-loading\";\r\n\r\nexport default function Loader() {\r\n  return (\r\n    <div class=\"loader\">\r\n      <ReactLoading type={\"bars\"} color={\"white\"} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./Comment.scss\";\r\n\r\nexport default function Comment({ comment, handleDeleteComment }) {\r\n  return (\r\n    <div className=\"comment-container\" key={comment._id}>\r\n      <span className=\"comment-name\">{comment.user}</span>\r\n      <span className=\"comment-text\">{comment.text}</span>\r\n      <span className=\"comment-date\">Submitted: {comment.submitted}</span>\r\n      <button\r\n        className=\"comment-delete-button\"\r\n        onClick={() => handleDeleteComment(comment)}\r\n      >\r\n        Delete\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport \"./DeleteModal.scss\";\r\n\r\nexport default function DeleteModal({\r\n  comment,\r\n  handleCancelComment,\r\n  deleteComment,\r\n}) {\r\n  const { user } = useContext(AuthContext);\r\n  return (\r\n    <div className=\"shade\">\r\n      <div className=\"delete-modal-container\">\r\n        <h2 className=\"delete-modal-header\">\r\n          Are you sure you want to delete this comment\r\n        </h2>\r\n        {!user.isAdmin && (\r\n          <div className=\"test-account-message\">\r\n            USER DOES NOT HAVE ADMIN PRIVILEGES TO DELETE COMMENT\r\n          </div>\r\n        )}\r\n        <span className=\"comment-name\">{comment.user}</span>\r\n        <span className=\"comment-text\">{comment.text}</span>\r\n        <span className=\"comment-date\">Submitted: {comment.submitted}</span>\r\n        <div className=\"buttons-container\">\r\n          <button\r\n            className=\"delete-button\"\r\n            onClick={() => deleteComment(comment._id)}\r\n          >\r\n            Delete\r\n          </button>\r\n          <button\r\n            className=\"cancel-button\"\r\n            onClick={() => handleCancelComment()}\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport \"./DeleteModal.scss\";\r\n\r\nexport default function DeleteModal({ post, handleCancelPost, deletePost }) {\r\n  const { user } = useContext(AuthContext);\r\n\r\n  return (\r\n    <div className=\"shade\">\r\n      <div className=\"delete-modal-container\">\r\n        <h2 className=\"delete-modal-header\">\r\n          Are you sure you want to delete this Post\r\n        </h2>\r\n        <span className=\"post-title\">{post.title}</span>\r\n        <span className=\"post-author\">{post.author}</span>\r\n        <span className=\"post-date\">Submitted: {post.submitted}</span>\r\n\r\n        {!user.isAdmin && (\r\n          <div className=\"test-account-message\">\r\n            USER DOES NOT HAVE ADMIN PRIVILEGES TO DELETE POST\r\n          </div>\r\n        )}\r\n        <div className=\"buttons-container\">\r\n          <button className=\"delete-button\" onClick={() => deletePost()}>\r\n            Delete\r\n          </button>\r\n          <button className=\"cancel-button\" onClick={() => handleCancelPost()}>\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport \"./EditPost.scss\";\r\n// components\r\nimport Loader from \"../../components/loader/Loader\";\r\nimport Comment from \"../../components/comment/Comment\";\r\nimport DeleteCommentModal from \"../../components/comment/deleteModal/DeleteModal\";\r\nimport DeletePostModal from \"../../components/post/deleteModal/DeleteModal\";\r\n\r\nexport default function EditPost() {\r\n  const [post, setPost] = useState();\r\n  const [comments, setComments] = useState();\r\n  const [successMsg, setSuccessMsg] = useState(false);\r\n  const [showDeletePostModal, setShowDeletePostModal] = useState(false);\r\n  const [showDeleteCommentModal, setShowDeleteCommentModal] = useState(false);\r\n  const [commentToDelete, setCommentToDelete] = useState(null);\r\n  const { user, dispatch } = useContext(AuthContext);\r\n\r\n  const { register, handleSubmit, errors } = useForm();\r\n  let navigate = useNavigate();\r\n  let { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    const getPosts = async () => {\r\n      try {\r\n        const postReq = await fetch(\r\n          `https://still-atoll-78147.herokuapp.com/api/posts/${id}`\r\n          // `http://localhost:3000/api/posts/${id}`\r\n        );\r\n        if (postReq.status !== 200) {\r\n          return;\r\n        }\r\n        const postJson = await postReq.json();\r\n        setPost(postJson.post);\r\n      } catch (err) {}\r\n    };\r\n    getPosts();\r\n\r\n    const getComments = async () => {\r\n      try {\r\n        const commentsReq = await fetch(\r\n          `https://still-atoll-78147.herokuapp.com/api/posts/${id}/comments`\r\n        );\r\n        if (commentsReq.status !== 200) {\r\n          return;\r\n        }\r\n        const commentsJson = await commentsReq.json();\r\n        setComments(commentsJson.comments);\r\n      } catch (err) {}\r\n    };\r\n    getComments();\r\n    setSuccessMsg(false);\r\n  }, []);\r\n\r\n  const submitForm = async (data) => {\r\n    if (user.isAdmin) {\r\n      const token = localStorage.getItem(\"token\");\r\n      const bearer = `Bearer ${token}`;\r\n      const formData = JSON.stringify(data);\r\n      try {\r\n        const req = await fetch(\r\n          `https://still-atoll-78147.herokuapp.com/api/posts/${id}`,\r\n          {\r\n            method: \"PUT\",\r\n            body: formData,\r\n            headers: {\r\n              Authorization: bearer,\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n          }\r\n        );\r\n        if (req.status !== 200) {\r\n          return;\r\n        }\r\n        setSuccessMsg(true);\r\n      } catch (err) {}\r\n    } else {\r\n      console.log(\"User does not have admin privileges to edit a post\");\r\n    }\r\n  };\r\n\r\n  const deletePost = async () => {\r\n    if (user.isAdmin) {\r\n      const token = localStorage.getItem(\"token\");\r\n      const bearer = `Bearer ${token}`;\r\n      try {\r\n        const req = await fetch(\r\n          `https://still-atoll-78147.herokuapp.com/api/posts/${id}`,\r\n          {\r\n            method: \"delete\",\r\n            headers: {\r\n              Authorization: bearer,\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n          }\r\n        );\r\n        if (req.status !== 200) {\r\n          return;\r\n        }\r\n        await deleteAllComments();\r\n        navigate(\"/posts\");\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    } else {\r\n      console.log(\"User does not have admin privileges to delete a post\");\r\n    }\r\n  };\r\n\r\n  const deleteComment = async (commentId) => {\r\n    if (user.isAdmin) {\r\n      const token = localStorage.getItem(\"token\");\r\n      const bearer = `Bearer ${token}`;\r\n      try {\r\n        const req = await fetch(\r\n          `https://still-atoll-78147.herokuapp.com/api/posts/${id}/comments/${commentId}`,\r\n          {\r\n            method: \"delete\",\r\n            headers: {\r\n              Authorization: bearer,\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n          }\r\n        );\r\n        if (req.status !== 200) {\r\n          return;\r\n        }\r\n        const newComments = comments.filter(\r\n          (comment) => comment._id !== commentId\r\n        );\r\n        setComments(newComments);\r\n        setShowDeleteCommentModal(false);\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    } else {\r\n      console.log(\"User does not have admin privileges to delete a comment\");\r\n    }\r\n  };\r\n\r\n  // comment modal\r\n  const handleDeleteComment = (comment) => {\r\n    setShowDeleteCommentModal(true);\r\n    setCommentToDelete(comment);\r\n  };\r\n\r\n  const handleCancelComment = () => {\r\n    setShowDeleteCommentModal(false);\r\n  };\r\n\r\n  // post modal\r\n  const handleDeletePost = () => {\r\n    setShowDeletePostModal(true);\r\n  };\r\n\r\n  const handleCancelPost = () => {\r\n    setShowDeletePostModal(false);\r\n  };\r\n\r\n  const deleteAllComments = async () => {\r\n    if (user.isAdmin) {\r\n      const token = localStorage.getItem(\"token\");\r\n      const bearer = `Bearer ${token}`;\r\n      try {\r\n        const req = await fetch(\r\n          `https://still-atoll-78147.herokuapp.com/api/posts/${id}/comments`,\r\n          {\r\n            method: \"delete\",\r\n            headers: {\r\n              Authorization: bearer,\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n          }\r\n        );\r\n        if (req.status !== 200) {\r\n          return;\r\n        }\r\n        setComments();\r\n        setShowDeleteCommentModal(false);\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    } else {\r\n      console.log(\"User does not have admin privileges to delete all comments\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"layout\">\r\n      {post ? (\r\n        <>\r\n          <div className=\"edit-container\">\r\n            <div className=\"edit-form\">\r\n              {!user.isAdmin && (\r\n                <div className=\"test-account-message\">\r\n                  USER DOES NOT HAVE ADMIN PRIVILEGES TO EDIT/DELETE POST\r\n                </div>\r\n              )}\r\n              {/* title */}\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\" htmlFor=\"title\">\r\n                  Title:\r\n                </label>\r\n                <input\r\n                  className=\"edit-form-input title\"\r\n                  {...register(\"title\", { required: true })}\r\n                  defaultValue={post.title}\r\n                ></input>\r\n                {errors && <span>Required field</span>}\r\n              </div>\r\n              {/* description */}\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\" htmlFor=\"description\">\r\n                  Description:\r\n                </label>\r\n                <textarea\r\n                  type=\"text\"\r\n                  className=\"edit-form-input description\"\r\n                  {...register(\"description\", { required: true })}\r\n                  defaultValue={post.description}\r\n                ></textarea>\r\n                {errors && <span>Required field</span>}\r\n              </div>\r\n              {/* body */}\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\" htmlFor=\"text\">\r\n                  Body:\r\n                </label>\r\n                <textarea\r\n                  type=\"text\"\r\n                  className=\"edit-form-input body\"\r\n                  {...register(\"text\", { required: true })}\r\n                  defaultValue={post.text}\r\n                ></textarea>\r\n                {errors && <span>Required field</span>}\r\n              </div>\r\n              {/* author */}\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\" htmlFor=\"author\">\r\n                  Author:\r\n                </label>\r\n                <input\r\n                  className=\"edit-form-input author\"\r\n                  {...register(\"author\", { required: true })}\r\n                  defaultValue={post.author}\r\n                ></input>\r\n                {errors && <span>Required field</span>}\r\n              </div>\r\n              {successMsg && <span>Updated successfully!</span>}\r\n\r\n              <div>\r\n                <a\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  href={\r\n                    \"https://kfig21.github.io/blog_client/#/posts/\" + post.id\r\n                  }\r\n                >\r\n                  <button className=\"update-button\">View</button>\r\n                </a>\r\n                <button\r\n                  className=\"update-button center\"\r\n                  type=\"submit\"\r\n                  onClick={\r\n                    ((e) => e.preventDefault(), handleSubmit(submitForm))\r\n                  }\r\n                >\r\n                  Update\r\n                </button>\r\n                <button\r\n                  className=\"delete-button\"\r\n                  onClick={() => handleDeletePost()}\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n              {!user.isAdmin && (\r\n                <div className=\"test-account-message\">\r\n                  USER DOES NOT HAVE ADMIN PRIVILEGES TO EDIT/DELETE POST\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          {comments ? (\r\n            <div className=\"comments-container\">\r\n              <span className=\"comments-header\">\r\n                Comments ({comments.length})\r\n              </span>\r\n              {comments.map((comment) => {\r\n                return (\r\n                  <Comment\r\n                    comment={comment}\r\n                    handleCancelComment={handleCancelComment}\r\n                    handleDeleteComment={handleDeleteComment}\r\n                  />\r\n                );\r\n              })}\r\n            </div>\r\n          ) : (\r\n            <div className=\"comments-container\">\r\n              <span className=\"comments-header\">Comments (0)</span>\r\n            </div>\r\n          )}\r\n        </>\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n\r\n      {showDeleteCommentModal && (\r\n        <DeleteCommentModal\r\n          comment={commentToDelete}\r\n          handleCancelComment={handleCancelComment}\r\n          deleteComment={deleteComment}\r\n        />\r\n      )}\r\n      {showDeletePostModal && (\r\n        <DeletePostModal\r\n          post={post}\r\n          handleCancelPost={handleCancelPost}\r\n          deletePost={deletePost}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useState, React, useContext } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport \"./NewPost.scss\";\r\n\r\nexport default function NewPost() {\r\n  const [successMsg, setSuccessMsg] = useState(false);\r\n  const { register, handleSubmit } = useForm();\r\n  const { user } = useContext(AuthContext);\r\n  let navigate = useNavigate();\r\n\r\n  console.log(user);\r\n\r\n  const submitForm = async (data) => {\r\n    if (user.isAdmin) {\r\n      const token = localStorage.getItem(\"token\");\r\n      const bearer = `Bearer ${token}`;\r\n      const formData = JSON.stringify(data);\r\n      try {\r\n        const req = await fetch(\r\n          `https://still-atoll-78147.herokuapp.com/api/posts/`,\r\n          {\r\n            method: \"post\",\r\n            body: formData,\r\n            headers: {\r\n              Authorization: bearer,\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n          }\r\n        );\r\n        if (req.status !== 200) {\r\n          return;\r\n        }\r\n        navigate(\"/posts\");\r\n        setSuccessMsg(true);\r\n      } catch (err) {}\r\n    } else {\r\n      console.log(\"test account cannot send a post\");\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"layout\">\r\n      <div className=\"new-container\">\r\n        <div className=\"new-form\">\r\n          {!user.isAdmin && (\r\n            <div className=\"test-account-message\">\r\n              USER DOES NOT HAVE ADMIN PRIVILEGES TO SUBMIT POST\r\n            </div>\r\n          )}\r\n          {/* title */}\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\" htmlFor=\"title\">\r\n              Title:\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"edit-form-input title\"\r\n              {...register(\"title\", { required: true })}\r\n            ></input>\r\n          </div>\r\n          {/* description */}\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\" htmlFor=\"description\">\r\n              Description:\r\n            </label>\r\n            <textarea\r\n              className=\"edit-form-input description\"\r\n              {...register(\"description\", { required: true })}\r\n            ></textarea>\r\n          </div>\r\n          {/* body */}\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\" htmlFor=\"text\">\r\n              Body:\r\n            </label>\r\n            <textarea\r\n              className=\"edit-form-input body\"\r\n              {...register(\"text\", { required: true })}\r\n            ></textarea>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">Author:</label>\r\n            <input\r\n              className=\"edit-form-input author\"\r\n              {...register(\"author\", { required: true })}\r\n            ></input>\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            onClick={((e) => e.preventDefault(), handleSubmit(submitForm))}\r\n          >\r\n            Submit\r\n          </button>\r\n          {!user.isAdmin && (\r\n            <div className=\"test-account-message\">\r\n              USER DOES NOT HAVE ADMIN PRIVILEGES TO SUBMIT POST\r\n            </div>\r\n          )}\r\n          {successMsg && <span>Submited successfully!</span>}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Post.scss\";\r\nimport { Comment } from \"@material-ui/icons\";\r\n\r\nexport default function Post({ post }) {\r\n  let commentCount = post.comments.length;\r\n  return (\r\n    <div className=\"post-container\">\r\n      <span className=\"post-container-title\">{post.title}</span>\r\n      <span className=\"post-container-description\">{post.description}</span>\r\n      <span className=\"post-container-author\">By: {post.author} </span>\r\n      <span className=\"post-container-submitted\">{post.submitted} </span>\r\n      <div className=\"edit-post-container\">\r\n        <Link to={`/posts/${post._id}`}>\r\n          <button>Edit Post</button>\r\n        </Link>\r\n        <div\r\n          style={{\r\n            color:\r\n              commentCount > 0 ? \"rgb(100, 100, 100)\" : \"rgb(195, 195, 195)\",\r\n          }}\r\n          className=\"comment-count-container\"\r\n        >\r\n          <div className=\"comment-icon-container\">\r\n            <Comment />\r\n          </div>\r\n          <span className=\"comment-count\">{commentCount}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Post from \"../../components/post/Post\";\r\nimport \"./Home.scss\";\r\nimport Loader from \"../../components/loader/Loader\";\r\n\r\nexport default function Home() {\r\n  const [posts, setPosts] = useState();\r\n  useEffect(() => {\r\n    const getPosts = async () => {\r\n      try {\r\n        const req = await fetch(\r\n          \"https://still-atoll-78147.herokuapp.com/api/posts\"\r\n          // \"http://localhost:3000/api/posts\"\r\n        );\r\n        if (req.status !== 200) {\r\n        }\r\n        const reqJson = await req.json();\r\n        setPosts(reqJson.posts);\r\n      } catch (err) {}\r\n    };\r\n    getPosts();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"posts-holder\">\r\n      {posts ? (\r\n        <div className=\"posts-container\">\r\n          {posts &&\r\n            posts.map((post) => {\r\n              return <Post key={post._id} post={post} />;\r\n            })}\r\n        </div>\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","// imports\nimport { useEffect, useState } from \"react\";\nimport { Route, Routes, Navigate } from \"react-router-dom\";\nimport \"./App.scss\";\nimport \"./App.css\";\n// components\nimport Nav from \"./components/nav/Nav\";\n// pages\nimport LoginPage from \"./pages/login/Login\";\nimport PostPage from \"./pages/editPost/EditPost\";\nimport NewPost from \"./pages/newPost/NewPost\";\nimport Home from \"./pages/home/Home\";\n\nfunction App() {\n  const [userAuth, setUserAuth] = useState(false);\n\n  useEffect(() => {\n    const user = localStorage.getItem(\"userAuth\");\n    if (user) {\n      setUserAuth(true);\n    } else {\n      setUserAuth(false);\n    }\n  }, []);\n\n  return (\n    <div className=\"app\">\n      <Nav userAuth={userAuth} setUserAuth={setUserAuth} />\n      <div className=\"container\">\n        <Routes>\n          <Route\n            exact\n            path=\"/\"\n            element={\n              !userAuth ? <LoginPage setUserAuth={setUserAuth} /> : <Home />\n            }\n          >\n            <Navigate to=\"/posts\" />\n          </Route>\n          <Route\n            exact\n            path=\"/posts\"\n            element={\n              !userAuth ? <LoginPage setUserAuth={setUserAuth} /> : <Home />\n            }\n          ></Route>\n          <Route\n            exact\n            path=\"/posts/:id\"\n            element={\n              !userAuth ? <LoginPage setUserAuth={setUserAuth} /> : <PostPage />\n            }\n          ></Route>\n          <Route\n            path=\"/newpost\"\n            element={\n              !userAuth ? <LoginPage setUserAuth={setUserAuth} /> : <NewPost />\n            }\n          ></Route>\n          <Route path=\"/\">\n            <p>404</p>\n          </Route>\n        </Routes>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport { AuthContextProvider } from \"./context/AuthContext\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <AuthContextProvider>\n    <HashRouter basename=\"/\">\n      <App />\n    </HashRouter>\n  </AuthContextProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}