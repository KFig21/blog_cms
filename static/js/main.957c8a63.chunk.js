(this.webpackJsonpblog_cms=this.webpackJsonpblog_cms||[]).push([[0],{27:function(e,t,s){},28:function(e,t,s){},29:function(e,t,s){},30:function(e,t,s){},32:function(e,t,s){},33:function(e,t,s){},34:function(e,t,s){},35:function(e,t,s){},36:function(e,t,s){},37:function(e,t,s){},38:function(e,t,s){},43:function(e,t,s){},44:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s(18),a=s.n(c),r=s(11),o=s(5),i=function(e,t){switch(t.type){case"LOGIN_START":return{user:null,isFetching:!0,error:!1};case"LOGIN_SUCCESS":return{user:t.payload,isFetching:!1,error:!1};case"LOGIN_FAILURE":return{user:null,isFetching:!1,error:!0};case"LOGOUT":return localStorage.clear(),{user:null,isFetching:!1,error:!1};default:return e}},l=s(0),u={user:JSON.parse(localStorage.getItem("user"))||null,isFetching:!1,error:!1},j=Object(n.createContext)(u),d=function(e){var t=e.children,s=Object(n.useReducer)(i,u),c=Object(o.a)(s,2),a=c[0],r=c[1];return Object(n.useEffect)((function(){console.log(a),localStorage.setItem("user",JSON.stringify(a.user))}),[a.user]),Object(l.jsx)(j.Provider,{value:{user:a.user,isFetching:a.isFetching,error:a.error,dispatch:r},children:t})},b=(s(27),s(4));s(28),s(29),s(30);function m(){return Object(l.jsx)("svg",{className:"navbar-svg",version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"655.000000pt",height:"657.000000pt",viewBox:"0 0 655.000000 657.000000",preserveAspectRatio:"xMidYMid meet",children:Object(l.jsx)("g",{transform:"translate(0.000000,657.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none",className:"navbar-svg-g",children:Object(l.jsx)("path",{d:"M1 4978 c1 -995 5 -1546 10 -1468 22 311 102 661 224 970 46 118 204\r\n440 216 440 5 0 9 4 9 9 0 16 120 213 144 236 6 6 29 37 51 70 22 33 47 66 55\r\n75 8 8 44 50 79 93 35 43 72 84 82 90 11 7 19 16 19 22 0 14 133 145 147 145\r\n6 0 13 6 16 14 5 12 128 119 224 194 l43 34 0 -2606 c0 -1433 -4 -2606 -8\r\n-2606 -5 0 -31 19 -59 43 -28 23 -85 70 -127 105 -42 34 -76 67 -76 72 0 6 -6\r\n10 -13 10 -14 0 -147 130 -147 144 0 5 -18 25 -40 44 -23 19 -39 37 -36 40 3\r\n2 -6 13 -19 24 -14 11 -23 24 -20 29 4 5 2 9 -3 9 -12 0 -112 121 -111 134 0\r\n5 -5 12 -11 16 -6 4 -19 18 -28 32 -9 14 -40 59 -68 100 -28 41 -62 95 -75\r\n119 -13 24 -27 46 -31 49 -15 11 -169 332 -211 440 -123 313 -205 668 -226\r\n975 -5 81 -9 -468 -10 -1472 l-1 -1603 3275 0 3275 0 0 3285 0 3285 -3275 0\r\n-3275 0 1 -1592z m3474 1562 c150 -11 292 -32 455 -67 138 -29 360 -93 360\r\n-103 0 -4 -488 -495 -1085 -1092 l-1085 -1085 0 1073 0 1072 108 36 c437 143\r\n834 196 1247 166z m1623 -567 c92 -58 360 -276 369 -299 3 -8 10 -14 16 -14\r\n14 0 147 -131 147 -145 0 -6 8 -15 19 -22 10 -6 47 -47 82 -90 35 -43 71 -85\r\n79 -93 8 -9 33 -42 55 -75 22 -32 48 -67 58 -77 9 -10 17 -24 17 -31 0 -12\r\n-2639 -2658 -2657 -2664 -4 -2 -204 193 -443 432 l-435 435 1330 1330 c731\r\n732 1331 1330 1333 1330 1 0 15 -8 30 -17z m1250 -1660 c6 -21 24 -85 41 -143\r\n38 -129 55 -204 86 -385 92 -546 26 -1130 -192 -1685 -42 -108 -196 -429 -211\r\n-440 -4 -3 -18 -25 -31 -49 -13 -24 -47 -78 -75 -119 -28 -41 -59 -86 -68\r\n-100 -9 -14 -22 -28 -28 -32 -6 -4 -10 -10 -8 -13 5 -8 -102 -137 -114 -137\r\n-5 0 -7 -4 -3 -9 3 -5 -6 -18 -20 -29 -13 -11 -22 -22 -19 -24 3 -3 -13 -21\r\n-36 -40 -22 -19 -40 -39 -40 -44 0 -12 -132 -144 -145 -144 -6 0 -15 -8 -22\r\n-18 -14 -23 -178 -158 -278 -228 l-72 -52 -629 629 -629 629 1235 1235 c679\r\n679 1238 1235 1241 1235 4 0 11 -17 17 -37z m-2003 -4085 c-23 -13 -263 -85\r\n-360 -108 -245 -58 -469 -84 -725 -84 -379 0 -658 50 -1107 197 l-33 10 0\r\n1116 0 1116 1120 -1120 c820 -820 1116 -1122 1105 -1127z"})})})}function p(e){e.userAuth;var t=e.setUserAuth,s=Object(n.useContext)(j),c=s.user,a=s.dispatch;return Object(l.jsx)("div",{className:"navbar",children:Object(l.jsxs)("div",{className:"navbar-container",children:[Object(l.jsxs)("div",{className:"nav-header-container",children:[Object(l.jsx)(m,{}),Object(l.jsx)("span",{className:"nav-title",children:"KFig21 Blog CMS"})]}),c&&Object(l.jsxs)("div",{className:"nav-link-container",children:[Object(l.jsx)(r.b,{to:"./posts",children:Object(l.jsx)("button",{children:"Home"})}),Object(l.jsx)(r.b,{to:"./newpost",children:Object(l.jsx)("button",{children:"New Post"})}),Object(l.jsx)("button",{className:"logout-button",onClick:function(){t(!1),a({type:"LOGOUT",payload:null}),localStorage.clear()},children:"Logout"})]})]})})}var h=s(7),O=s(3),x=s.n(O),f=s(6),v=s(14);s(32);function N(e){var t=e.setUserAuth,s=Object(v.a)(),c=s.register,a=s.handleSubmit,r=s.errors,i=Object(n.useState)(!1),u=Object(o.a)(i,2),d=u[0],b=u[1],m=Object(n.useContext)(j).dispatch,p=function(){var e=Object(f.a)(x.a.mark((function e(s){var n,c,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(s),n=JSON.stringify(s),e.prev=2,e.next=5,fetch("https://still-atoll-78147.herokuapp.com/api/login",{method:"POST",body:n,headers:{Accept:"application/json","Content-Type":"application/json"}});case 5:return c=e.sent,e.next=8,c.json();case 8:if(a=e.sent,200===c.status){e.next=12;break}return b(!0),e.abrupt("return");case 12:localStorage.setItem("token",a.token),localStorage.setItem("userAuth",!0),m({type:"LOGIN_SUCCESS",payload:a}),t(!0),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),b(!0);case 21:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(f.a)(x.a.mark((function e(){var s,n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=JSON.stringify({username:"TestAccount",password:"TestAccount123"}),e.prev=1,e.next=4,fetch("https://still-atoll-78147.herokuapp.com/api/login",{method:"POST",body:s,headers:{Accept:"application/json","Content-Type":"application/json"}});case 4:return n=e.sent,e.next=7,n.json();case 7:if(c=e.sent,200===n.status){e.next=11;break}return b(!0),e.abrupt("return");case 11:localStorage.setItem("token",c.token),localStorage.setItem("userAuth",!0),m({type:"LOGIN_SUCCESS",payload:c}),t(!0),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),b(!0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"login-container",children:Object(l.jsxs)("form",{className:"login-form",children:[Object(l.jsx)("h1",{children:"Admin Login"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("input",Object(h.a)({className:"form-input",autoComplete:"username",type:"text",placeholder:"Username"},c("username",{required:!0}))),r&&Object(l.jsx)("span",{className:"error-span",children:r.username.message})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("input",Object(h.a)({className:"form-input",autoComplete:"current-password",placeholder:"Password",type:"password"},c("password",{required:!0}))),r&&Object(l.jsxs)("span",{className:"error-span",children:[r.password.message," "]})]}),d&&Object(l.jsx)("span",{className:"error-span",children:"Username or password incorrect"}),Object(l.jsx)("button",{type:"submit",onClick:a(p),children:"Login"})]})}),Object(l.jsxs)("div",{className:"just-visiting",children:["Wanna look around? ",Object(l.jsx)("button",{onClick:O,children:"Just visiting"})]})]})}s(33);var g=s(19),S=s.n(g);function k(){return Object(l.jsx)("div",{class:"loader",children:Object(l.jsx)(S.a,{type:"bars",color:"white"})})}s(34);function y(e){var t=e.comment,s=e.handleDeleteComment;return Object(l.jsxs)("div",{className:"comment-container",children:[Object(l.jsx)("span",{className:"comment-name",children:t.user}),Object(l.jsx)("span",{className:"comment-text",children:t.text}),Object(l.jsxs)("span",{className:"comment-date",children:["Submitted: ",t.submitted]}),Object(l.jsx)("button",{className:"comment-delete-button",onClick:function(){return s(t)},children:"Delete"})]},t._id)}s(35);function E(e){var t=e.comment,s=e.handleCancelComment,c=e.deleteComment,a=Object(n.useContext)(j).user;return Object(l.jsx)("div",{className:"shade",children:Object(l.jsxs)("div",{className:"delete-modal-container",children:[Object(l.jsx)("h2",{className:"delete-modal-header",children:"Are you sure you want to delete this comment"}),!a.isAdmin&&Object(l.jsx)("div",{className:"test-account-message",children:"USER DOES NOT HAVE ADMIN PRIVILEGES TO DELETE COMMENT"}),Object(l.jsx)("span",{className:"comment-name",children:t.user}),Object(l.jsx)("span",{className:"comment-text",children:t.text}),Object(l.jsxs)("span",{className:"comment-date",children:["Submitted: ",t.submitted]}),Object(l.jsxs)("div",{className:"buttons-container",children:[Object(l.jsx)("button",{className:"delete-button",onClick:function(){return c(t._id)},children:"Delete"}),Object(l.jsx)("button",{className:"cancel-button",onClick:function(){return s()},children:"Cancel"})]})]})})}s(36);function A(e){var t=e.post,s=e.handleCancelPost,c=e.deletePost,a=Object(n.useContext)(j).user;return Object(l.jsx)("div",{className:"shade",children:Object(l.jsxs)("div",{className:"delete-modal-container",children:[Object(l.jsx)("h2",{className:"delete-modal-header",children:"Are you sure you want to delete this Post"}),Object(l.jsx)("span",{className:"post-title",children:t.title}),Object(l.jsx)("span",{className:"post-author",children:t.author}),Object(l.jsxs)("span",{className:"post-date",children:["Submitted: ",t.submitted]}),!a.isAdmin&&Object(l.jsx)("div",{className:"test-account-message",children:"USER DOES NOT HAVE ADMIN PRIVILEGES TO DELETE POST"}),Object(l.jsxs)("div",{className:"buttons-container",children:[Object(l.jsx)("button",{className:"delete-button",onClick:function(){return c()},children:"Delete"}),Object(l.jsx)("button",{className:"cancel-button",onClick:function(){return s()},children:"Cancel"})]})]})})}function C(){var e=Object(n.useState)(),t=Object(o.a)(e,2),s=t[0],c=t[1],a=Object(n.useState)(),r=Object(o.a)(a,2),i=r[0],u=r[1],d=Object(n.useState)(!1),m=Object(o.a)(d,2),p=m[0],O=m[1],N=Object(n.useState)(!1),g=Object(o.a)(N,2),S=g[0],C=g[1],w=Object(n.useState)(!1),T=Object(o.a)(w,2),I=T[0],U=T[1],D=Object(n.useState)(null),P=Object(o.a)(D,2),L=P[0],R=P[1],F=Object(n.useContext)(j),V=F.user,q=(F.dispatch,Object(v.a)()),M=q.register,B=q.handleSubmit,G=q.errors,_=Object(b.g)(),z=Object(b.h)().id;Object(n.useEffect)((function(){var e=function(){var e=Object(f.a)(x.a.mark((function e(){var t,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://still-atoll-78147.herokuapp.com/api/posts/".concat(z));case 3:if(200===(t=e.sent).status){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,t.json();case 8:s=e.sent,c(s.post),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();e();var t=function(){var e=Object(f.a)(x.a.mark((function e(){var t,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://still-atoll-78147.herokuapp.com/api/posts/".concat(z,"/comments"));case 3:if(200===(t=e.sent).status){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,t.json();case 8:s=e.sent,u(s.comments),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();t(),O(!1)}),[]);var J=function(){var e=Object(f.a)(x.a.mark((function e(t){var s,n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!V.isAdmin){e.next=17;break}return s=localStorage.getItem("token"),n="Bearer ".concat(s),c=JSON.stringify(t),e.prev=4,e.next=7,fetch("https://still-atoll-78147.herokuapp.com/api/posts/".concat(z),{method:"PUT",body:c,headers:{Authorization:n,"Content-Type":"application/json"}});case 7:if(200===e.sent.status){e.next=10;break}return e.abrupt("return");case 10:O(!0),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(4);case 15:e.next=18;break;case 17:console.log("User does not have admin privileges to edit a post");case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(f.a)(x.a.mark((function e(){var t,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!V.isAdmin){e.next=19;break}return t=localStorage.getItem("token"),s="Bearer ".concat(t),e.prev=3,e.next=6,fetch("https://still-atoll-78147.herokuapp.com/api/posts/".concat(z),{method:"delete",headers:{Authorization:s,"Content-Type":"application/json"}});case 6:if(200===e.sent.status){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,Q();case 11:_("/posts"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.error(e.t0);case 17:e.next=20;break;case 19:console.log("User does not have admin privileges to delete a post");case 20:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(f.a)(x.a.mark((function e(t){var s,n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!V.isAdmin){e.next=19;break}return s=localStorage.getItem("token"),n="Bearer ".concat(s),e.prev=3,e.next=6,fetch("https://still-atoll-78147.herokuapp.com/api/posts/".concat(z,"/comments/").concat(t),{method:"delete",headers:{Authorization:n,"Content-Type":"application/json"}});case 6:if(200===e.sent.status){e.next=9;break}return e.abrupt("return");case 9:c=i.filter((function(e){return e._id!==t})),u(c),U(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.error(e.t0);case 17:e.next=20;break;case 19:console.log("User does not have admin privileges to delete a comment");case 20:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),W=function(e){U(!0),R(e)},Y=function(){U(!1)},Q=function(){var e=Object(f.a)(x.a.mark((function e(){var t,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!V.isAdmin){e.next=18;break}return t=localStorage.getItem("token"),s="Bearer ".concat(t),e.prev=3,e.next=6,fetch("https://still-atoll-78147.herokuapp.com/api/posts/".concat(z,"/comments"),{method:"delete",headers:{Authorization:s,"Content-Type":"application/json"}});case 6:if(200===e.sent.status){e.next=9;break}return e.abrupt("return");case 9:u(),U(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0);case 16:e.next=19;break;case 18:console.log("User does not have admin privileges to delete all comments");case 19:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"layout",children:[s?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"edit-container",children:Object(l.jsxs)("div",{className:"edit-form",children:[!V.isAdmin&&Object(l.jsx)("div",{className:"test-account-message",children:"USER DOES NOT HAVE ADMIN PRIVILEGES TO EDIT/DELETE POST"}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{className:"form-label",htmlFor:"title",children:"Title:"}),Object(l.jsx)("input",Object(h.a)(Object(h.a)({className:"edit-form-input title"},M("title",{required:!0})),{},{defaultValue:s.title})),G&&Object(l.jsx)("span",{children:"Required field"})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{className:"form-label",htmlFor:"description",children:"Description:"}),Object(l.jsx)("textarea",Object(h.a)(Object(h.a)({type:"text",className:"edit-form-input description"},M("description",{required:!0})),{},{defaultValue:s.description})),G&&Object(l.jsx)("span",{children:"Required field"})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{className:"form-label",htmlFor:"text",children:"Body:"}),Object(l.jsx)("textarea",Object(h.a)(Object(h.a)({type:"text",className:"edit-form-input body"},M("text",{required:!0})),{},{defaultValue:s.text})),G&&Object(l.jsx)("span",{children:"Required field"})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{className:"form-label",htmlFor:"author",children:"Author:"}),Object(l.jsx)("input",Object(h.a)(Object(h.a)({className:"edit-form-input author"},M("author",{required:!0})),{},{defaultValue:s.author})),G&&Object(l.jsx)("span",{children:"Required field"})]}),p&&Object(l.jsx)("span",{children:"Updated successfully!"}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{className:"update-button",type:"submit",onClick:B(J),children:"Update"})}),Object(l.jsx)("button",{className:"delete-button",onClick:function(){C(!0)},children:"Delete"}),!V.isAdmin&&Object(l.jsx)("div",{className:"test-account-message",children:"USER DOES NOT HAVE ADMIN PRIVILEGES TO EDIT/DELETE POST"})]})}),i?Object(l.jsxs)("div",{className:"comments-container",children:[Object(l.jsxs)("span",{className:"comments-header",children:["Comments (",i.length,")"]}),i.map((function(e){return Object(l.jsx)(y,{comment:e,handleCancelComment:Y,handleDeleteComment:W})}))]}):Object(l.jsx)("div",{className:"comments-container",children:Object(l.jsx)("span",{className:"comments-header",children:"Comments (0)"})})]}):Object(l.jsx)(k,{}),I&&Object(l.jsx)(E,{comment:L,handleCancelComment:Y,deleteComment:K}),S&&Object(l.jsx)(A,{post:s,handleCancelPost:function(){C(!1)},deletePost:H})]})}s(37);function w(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),s=t[0],c=t[1],a=Object(v.a)(),r=a.register,i=a.handleSubmit,u=Object(n.useContext)(j).user,d=Object(b.g)();console.log(u);var m=function(){var e=Object(f.a)(x.a.mark((function e(t){var s,n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.isAdmin){e.next=18;break}return s=localStorage.getItem("token"),n="Bearer ".concat(s),a=JSON.stringify(t),e.prev=4,e.next=7,fetch("https://still-atoll-78147.herokuapp.com/api/posts/",{method:"post",body:a,headers:{Authorization:n,"Content-Type":"application/json"}});case 7:if(200===e.sent.status){e.next=10;break}return e.abrupt("return");case 10:d("/posts"),c(!0),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(4);case 16:e.next=19;break;case 18:console.log("test account cannot send a post");case 19:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{className:"layout",children:Object(l.jsx)("div",{className:"new-container",children:Object(l.jsxs)("div",{className:"new-form",children:[!u.isAdmin&&Object(l.jsx)("div",{className:"test-account-message",children:"USER DOES NOT HAVE ADMIN PRIVILEGES TO SUBMIT POST"}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{className:"form-label",htmlFor:"title",children:"Title:"}),Object(l.jsx)("input",Object(h.a)({type:"text",className:"edit-form-input title"},r("title",{required:!0})))]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{className:"form-label",htmlFor:"description",children:"Description:"}),Object(l.jsx)("textarea",Object(h.a)({className:"edit-form-input description"},r("description",{required:!0})))]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{className:"form-label",htmlFor:"text",children:"Body:"}),Object(l.jsx)("textarea",Object(h.a)({className:"edit-form-input body"},r("text",{required:!0})))]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{className:"form-label",children:"Author:"}),Object(l.jsx)("input",Object(h.a)({className:"edit-form-input author"},r("author",{required:!0})))]}),Object(l.jsx)("button",{type:"submit",onClick:i(m),children:"Submit"}),!u.isAdmin&&Object(l.jsx)("div",{className:"test-account-message",children:"USER DOES NOT HAVE ADMIN PRIVILEGES TO SUBMIT POST"}),s&&Object(l.jsx)("span",{children:"Submited successfully!"})]})})})}s(38);var T=s(58);function I(e){var t=e.post,s=t.comments.length;return Object(l.jsxs)("div",{className:"post-container",children:[Object(l.jsx)("span",{className:"post-container-title",children:t.title}),Object(l.jsx)("span",{className:"post-container-description",children:t.description}),Object(l.jsxs)("span",{className:"post-container-author",children:["By: ",t.author," "]}),Object(l.jsxs)("span",{className:"post-container-submitted",children:[t.submitted," "]}),Object(l.jsxs)("div",{className:"edit-post-container",children:[Object(l.jsx)(r.b,{to:"/posts/".concat(t._id),children:Object(l.jsx)("button",{children:"Edit Post"})}),Object(l.jsxs)("div",{style:{color:s>0?"rgb(100, 100, 100)":"rgb(195, 195, 195)"},className:"comment-count-container",children:[Object(l.jsx)("div",{className:"comment-icon-container",children:Object(l.jsx)(T.a,{})}),Object(l.jsx)("span",{className:"comment-count",children:s})]})]})]})}s(43);function U(){var e=Object(n.useState)(),t=Object(o.a)(e,2),s=t[0],c=t[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(f.a)(x.a.mark((function e(){var t,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:3000/api/posts");case 3:return(t=e.sent).status,e.next=7,t.json();case 7:s=e.sent,c(s.posts),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(l.jsx)("div",{className:"posts-holder",children:s?Object(l.jsx)("div",{className:"posts-container",children:s&&s.map((function(e){return Object(l.jsx)(I,{post:e},e._id)}))}):Object(l.jsx)(k,{})})}var D=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),s=t[0],c=t[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("userAuth");c(!!e)}),[]),Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)(p,{userAuth:s,setUserAuth:c}),Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)(b.d,{children:[Object(l.jsx)(b.b,{exact:!0,path:"/",element:s?Object(l.jsx)(U,{}):Object(l.jsx)(N,{setUserAuth:c}),children:Object(l.jsx)(b.a,{to:"/posts"})}),Object(l.jsx)(b.b,{exact:!0,path:"/posts",element:s?Object(l.jsx)(U,{}):Object(l.jsx)(N,{setUserAuth:c})}),Object(l.jsx)(b.b,{exact:!0,path:"/posts/:id",element:s?Object(l.jsx)(C,{}):Object(l.jsx)(N,{setUserAuth:c})}),Object(l.jsx)(b.b,{path:"/newpost",element:s?Object(l.jsx)(w,{}):Object(l.jsx)(N,{setUserAuth:c})}),Object(l.jsx)(b.b,{path:"/",children:Object(l.jsx)("p",{children:"404"})})]})})]})};a.a.render(Object(l.jsx)(d,{children:Object(l.jsx)(r.a,{basename:"/",children:Object(l.jsx)(D,{})})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.957c8a63.chunk.js.map